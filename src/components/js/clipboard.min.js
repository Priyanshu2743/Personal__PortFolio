import { useEffect, useRef } from "react";
import Clipboard from "clipboard";

const CopyButton = ({ text }) => {
    const buttonRef = useRef(null);

    useEffect(() => {
        const clipboard = new Clipboard(buttonRef.current, {
            text: () => text,
        });

        clipboard.on("success", () => {
            alert("Copied to clipboard!");
        });

        clipboard.on("error", () => {
            alert("Failed to copy!");
        });

        return () => clipboard.destroy();
    }, [text]);

    return (
        <button ref={buttonRef} data-clipboard-text={text}>
            Copy to Clipboard
        </button>
    );
};

export default CopyButton;